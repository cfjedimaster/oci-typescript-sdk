/**
 * Auto generated test cases for "Digital Assistant Control Plane API"
 *
 * NOTE: This class is auto generated by OracleSDKTestGenerator.
 * Do not edit the class manually.
 *
 * Copyright (c) 2020, Oracle and/or its affiliates.  All rights reserved.
 * This software is dual-licensed to you under the Universal Permissive License (UPL) 1.0 as shown at https://oss.oracle.com/licenses/upl or Apache License 2.0 as shown at http://www.apache.org/licenses/LICENSE-2.0. You may choose either license.
 */

import oda = require("../lib/oda/");
import TestingServiceClient = require("./testing-service-client");

import { expect } from "chai";
import common = require("oci-common");

describe("Test Oda Api", () => {
  let tsclient: TestingServiceClient.TestingServiceClient;

  before(() => {
    tsclient = new TestingServiceClient.TestingServiceClient();
    return tsclient.startSession();
  });

  after(() => {
    return tsclient.endSession();
  });

  it("Test changeOdaInstanceCompartment method", async function() {
    if (!(await tsclient.isApiEnabled("oda", "ChangeOdaInstanceCompartment"))) {
      this.skip();
    }

    const config: any = await tsclient.getTestingConfig(
      "oda",
      "Oda",
      "ChangeOdaInstanceCompartment"
    );

    const authenticationDetailProvider: common.AuthenticationDetailsProvider = new common.SimpleAuthenticationDetailsProvider(
      config.tenantId,
      config.userId,
      config.fingerprint,
      config.keyFileContent,
      config.passPhrase
    );

    const odaClient = new oda.OdaClient({
      authenticationDetailsProvider: authenticationDetailProvider
    });
    if (config.endpoint) {
      odaClient.endpoint = config.endpoint;
    } else {
      odaClient.regionId = config.region;
    }
    const requests: any[] = await tsclient.getRequests("oda", "ChangeOdaInstanceCompartment");

    for (const data of requests) {
      try {
        console.debug("Request to OCI:", data.request);
        const response = await odaClient.changeOdaInstanceCompartment(data.request);
        console.debug("Response from OCI:", response);

        const message: string = await tsclient.validateResponse(
          data.containerId,
          "oda",
          "ChangeOdaInstanceCompartmentRequest",
          data.request,
          "ChangeOdaInstanceCompartmentResponse",
          response
        );
        expect(message).to.equal("");
      } catch (err) {
        if (err instanceof common.OciError) {
          const message: string = await tsclient.validateError(
            data.containerId,
            "oda",
            "ChangeOdaInstanceCompartmentRequest",
            data.request,
            err
          );
          expect(message).to.equal("");
        } else {
          console.debug(err);
          throw err;
        }
      }
    }
  });

  it("Test createOdaInstance method", async function() {
    if (!(await tsclient.isApiEnabled("oda", "CreateOdaInstance"))) {
      this.skip();
    }

    const config: any = await tsclient.getTestingConfig("oda", "Oda", "CreateOdaInstance");

    const authenticationDetailProvider: common.AuthenticationDetailsProvider = new common.SimpleAuthenticationDetailsProvider(
      config.tenantId,
      config.userId,
      config.fingerprint,
      config.keyFileContent,
      config.passPhrase
    );

    const odaClient = new oda.OdaClient({
      authenticationDetailsProvider: authenticationDetailProvider
    });
    if (config.endpoint) {
      odaClient.endpoint = config.endpoint;
    } else {
      odaClient.regionId = config.region;
    }
    const requests: any[] = await tsclient.getRequests("oda", "CreateOdaInstance");

    for (const data of requests) {
      try {
        console.debug("Request to OCI:", data.request);
        const response = await odaClient.createOdaInstance(data.request);
        console.debug("Response from OCI:", response);

        const message: string = await tsclient.validateResponse(
          data.containerId,
          "oda",
          "CreateOdaInstanceRequest",
          data.request,
          "CreateOdaInstanceResponse",
          response
        );
        expect(message).to.equal("");
      } catch (err) {
        if (err instanceof common.OciError) {
          const message: string = await tsclient.validateError(
            data.containerId,
            "oda",
            "CreateOdaInstanceRequest",
            data.request,
            err
          );
          expect(message).to.equal("");
        } else {
          console.debug(err);
          throw err;
        }
      }
    }
  });

  it("Test deleteOdaInstance method", async function() {
    if (!(await tsclient.isApiEnabled("oda", "DeleteOdaInstance"))) {
      this.skip();
    }

    const config: any = await tsclient.getTestingConfig("oda", "Oda", "DeleteOdaInstance");

    const authenticationDetailProvider: common.AuthenticationDetailsProvider = new common.SimpleAuthenticationDetailsProvider(
      config.tenantId,
      config.userId,
      config.fingerprint,
      config.keyFileContent,
      config.passPhrase
    );

    const odaClient = new oda.OdaClient({
      authenticationDetailsProvider: authenticationDetailProvider
    });
    if (config.endpoint) {
      odaClient.endpoint = config.endpoint;
    } else {
      odaClient.regionId = config.region;
    }
    const requests: any[] = await tsclient.getRequests("oda", "DeleteOdaInstance");

    for (const data of requests) {
      try {
        console.debug("Request to OCI:", data.request);
        const response = await odaClient.deleteOdaInstance(data.request);
        console.debug("Response from OCI:", response);

        const message: string = await tsclient.validateResponse(
          data.containerId,
          "oda",
          "DeleteOdaInstanceRequest",
          data.request,
          "DeleteOdaInstanceResponse",
          response
        );
        expect(message).to.equal("");
      } catch (err) {
        if (err instanceof common.OciError) {
          const message: string = await tsclient.validateError(
            data.containerId,
            "oda",
            "DeleteOdaInstanceRequest",
            data.request,
            err
          );
          expect(message).to.equal("");
        } else {
          console.debug(err);
          throw err;
        }
      }
    }
  });

  it("Test getOdaInstance method", async function() {
    if (!(await tsclient.isApiEnabled("oda", "GetOdaInstance"))) {
      this.skip();
    }

    const config: any = await tsclient.getTestingConfig("oda", "Oda", "GetOdaInstance");

    const authenticationDetailProvider: common.AuthenticationDetailsProvider = new common.SimpleAuthenticationDetailsProvider(
      config.tenantId,
      config.userId,
      config.fingerprint,
      config.keyFileContent,
      config.passPhrase
    );

    const odaClient = new oda.OdaClient({
      authenticationDetailsProvider: authenticationDetailProvider
    });
    if (config.endpoint) {
      odaClient.endpoint = config.endpoint;
    } else {
      odaClient.regionId = config.region;
    }
    const requests: any[] = await tsclient.getRequests("oda", "GetOdaInstance");

    for (const data of requests) {
      try {
        console.debug("Request to OCI:", data.request);
        const response = await odaClient.getOdaInstance(data.request);
        console.debug("Response from OCI:", response);

        const message: string = await tsclient.validateResponse(
          data.containerId,
          "oda",
          "GetOdaInstanceRequest",
          data.request,
          "GetOdaInstanceResponse",
          response
        );
        expect(message).to.equal("");
      } catch (err) {
        if (err instanceof common.OciError) {
          const message: string = await tsclient.validateError(
            data.containerId,
            "oda",
            "GetOdaInstanceRequest",
            data.request,
            err
          );
          expect(message).to.equal("");
        } else {
          console.debug(err);
          throw err;
        }
      }
    }
  });

  it("Test getWorkRequest method", async function() {
    if (!(await tsclient.isApiEnabled("oda", "GetWorkRequest"))) {
      this.skip();
    }

    const config: any = await tsclient.getTestingConfig("oda", "Oda", "GetWorkRequest");

    const authenticationDetailProvider: common.AuthenticationDetailsProvider = new common.SimpleAuthenticationDetailsProvider(
      config.tenantId,
      config.userId,
      config.fingerprint,
      config.keyFileContent,
      config.passPhrase
    );

    const odaClient = new oda.OdaClient({
      authenticationDetailsProvider: authenticationDetailProvider
    });
    if (config.endpoint) {
      odaClient.endpoint = config.endpoint;
    } else {
      odaClient.regionId = config.region;
    }
    const requests: any[] = await tsclient.getRequests("oda", "GetWorkRequest");

    for (const data of requests) {
      try {
        console.debug("Request to OCI:", data.request);
        const response = await odaClient.getWorkRequest(data.request);
        console.debug("Response from OCI:", response);

        const message: string = await tsclient.validateResponse(
          data.containerId,
          "oda",
          "GetWorkRequestRequest",
          data.request,
          "GetWorkRequestResponse",
          response
        );
        expect(message).to.equal("");
      } catch (err) {
        if (err instanceof common.OciError) {
          const message: string = await tsclient.validateError(
            data.containerId,
            "oda",
            "GetWorkRequestRequest",
            data.request,
            err
          );
          expect(message).to.equal("");
        } else {
          console.debug(err);
          throw err;
        }
      }
    }
  });

  it("Test listOdaInstances method", async function() {
    if (!(await tsclient.isApiEnabled("oda", "ListOdaInstances"))) {
      this.skip();
    }

    const config: any = await tsclient.getTestingConfig("oda", "Oda", "ListOdaInstances");

    const authenticationDetailProvider: common.AuthenticationDetailsProvider = new common.SimpleAuthenticationDetailsProvider(
      config.tenantId,
      config.userId,
      config.fingerprint,
      config.keyFileContent,
      config.passPhrase
    );

    const odaClient = new oda.OdaClient({
      authenticationDetailsProvider: authenticationDetailProvider
    });
    if (config.endpoint) {
      odaClient.endpoint = config.endpoint;
    } else {
      odaClient.regionId = config.region;
    }
    const requests: any[] = await tsclient.getRequests("oda", "ListOdaInstances");

    for (const data of requests) {
      try {
        console.debug("Request to OCI:", data.request);
        const response = await odaClient.listOdaInstances(data.request);
        console.debug("Response from OCI:", response);

        const message: string = await tsclient.validateResponse(
          data.containerId,
          "oda",
          "ListOdaInstancesRequest",
          data.request,
          "ListOdaInstancesResponse",
          response
        );
        expect(message).to.equal("");
      } catch (err) {
        if (err instanceof common.OciError) {
          const message: string = await tsclient.validateError(
            data.containerId,
            "oda",
            "ListOdaInstancesRequest",
            data.request,
            err
          );
          expect(message).to.equal("");
        } else {
          console.debug(err);
          throw err;
        }
      }
    }
  });

  it("Test listWorkRequestErrors method", async function() {
    if (!(await tsclient.isApiEnabled("oda", "ListWorkRequestErrors"))) {
      this.skip();
    }

    const config: any = await tsclient.getTestingConfig("oda", "Oda", "ListWorkRequestErrors");

    const authenticationDetailProvider: common.AuthenticationDetailsProvider = new common.SimpleAuthenticationDetailsProvider(
      config.tenantId,
      config.userId,
      config.fingerprint,
      config.keyFileContent,
      config.passPhrase
    );

    const odaClient = new oda.OdaClient({
      authenticationDetailsProvider: authenticationDetailProvider
    });
    if (config.endpoint) {
      odaClient.endpoint = config.endpoint;
    } else {
      odaClient.regionId = config.region;
    }
    const requests: any[] = await tsclient.getRequests("oda", "ListWorkRequestErrors");

    for (const data of requests) {
      try {
        console.debug("Request to OCI:", data.request);
        const response = await odaClient.listWorkRequestErrors(data.request);
        console.debug("Response from OCI:", response);

        const message: string = await tsclient.validateResponse(
          data.containerId,
          "oda",
          "ListWorkRequestErrorsRequest",
          data.request,
          "ListWorkRequestErrorsResponse",
          response
        );
        expect(message).to.equal("");
      } catch (err) {
        if (err instanceof common.OciError) {
          const message: string = await tsclient.validateError(
            data.containerId,
            "oda",
            "ListWorkRequestErrorsRequest",
            data.request,
            err
          );
          expect(message).to.equal("");
        } else {
          console.debug(err);
          throw err;
        }
      }
    }
  });

  it("Test listWorkRequestLogs method", async function() {
    if (!(await tsclient.isApiEnabled("oda", "ListWorkRequestLogs"))) {
      this.skip();
    }

    const config: any = await tsclient.getTestingConfig("oda", "Oda", "ListWorkRequestLogs");

    const authenticationDetailProvider: common.AuthenticationDetailsProvider = new common.SimpleAuthenticationDetailsProvider(
      config.tenantId,
      config.userId,
      config.fingerprint,
      config.keyFileContent,
      config.passPhrase
    );

    const odaClient = new oda.OdaClient({
      authenticationDetailsProvider: authenticationDetailProvider
    });
    if (config.endpoint) {
      odaClient.endpoint = config.endpoint;
    } else {
      odaClient.regionId = config.region;
    }
    const requests: any[] = await tsclient.getRequests("oda", "ListWorkRequestLogs");

    for (const data of requests) {
      try {
        console.debug("Request to OCI:", data.request);
        const response = await odaClient.listWorkRequestLogs(data.request);
        console.debug("Response from OCI:", response);

        const message: string = await tsclient.validateResponse(
          data.containerId,
          "oda",
          "ListWorkRequestLogsRequest",
          data.request,
          "ListWorkRequestLogsResponse",
          response
        );
        expect(message).to.equal("");
      } catch (err) {
        if (err instanceof common.OciError) {
          const message: string = await tsclient.validateError(
            data.containerId,
            "oda",
            "ListWorkRequestLogsRequest",
            data.request,
            err
          );
          expect(message).to.equal("");
        } else {
          console.debug(err);
          throw err;
        }
      }
    }
  });

  it("Test listWorkRequests method", async function() {
    if (!(await tsclient.isApiEnabled("oda", "ListWorkRequests"))) {
      this.skip();
    }

    const config: any = await tsclient.getTestingConfig("oda", "Oda", "ListWorkRequests");

    const authenticationDetailProvider: common.AuthenticationDetailsProvider = new common.SimpleAuthenticationDetailsProvider(
      config.tenantId,
      config.userId,
      config.fingerprint,
      config.keyFileContent,
      config.passPhrase
    );

    const odaClient = new oda.OdaClient({
      authenticationDetailsProvider: authenticationDetailProvider
    });
    if (config.endpoint) {
      odaClient.endpoint = config.endpoint;
    } else {
      odaClient.regionId = config.region;
    }
    const requests: any[] = await tsclient.getRequests("oda", "ListWorkRequests");

    for (const data of requests) {
      try {
        console.debug("Request to OCI:", data.request);
        const response = await odaClient.listWorkRequests(data.request);
        console.debug("Response from OCI:", response);

        const message: string = await tsclient.validateResponse(
          data.containerId,
          "oda",
          "ListWorkRequestsRequest",
          data.request,
          "ListWorkRequestsResponse",
          response
        );
        expect(message).to.equal("");
      } catch (err) {
        if (err instanceof common.OciError) {
          const message: string = await tsclient.validateError(
            data.containerId,
            "oda",
            "ListWorkRequestsRequest",
            data.request,
            err
          );
          expect(message).to.equal("");
        } else {
          console.debug(err);
          throw err;
        }
      }
    }
  });

  it("Test startOdaInstance method", async function() {
    if (!(await tsclient.isApiEnabled("oda", "StartOdaInstance"))) {
      this.skip();
    }

    const config: any = await tsclient.getTestingConfig("oda", "Oda", "StartOdaInstance");

    const authenticationDetailProvider: common.AuthenticationDetailsProvider = new common.SimpleAuthenticationDetailsProvider(
      config.tenantId,
      config.userId,
      config.fingerprint,
      config.keyFileContent,
      config.passPhrase
    );

    const odaClient = new oda.OdaClient({
      authenticationDetailsProvider: authenticationDetailProvider
    });
    if (config.endpoint) {
      odaClient.endpoint = config.endpoint;
    } else {
      odaClient.regionId = config.region;
    }
    const requests: any[] = await tsclient.getRequests("oda", "StartOdaInstance");

    for (const data of requests) {
      try {
        console.debug("Request to OCI:", data.request);
        const response = await odaClient.startOdaInstance(data.request);
        console.debug("Response from OCI:", response);

        const message: string = await tsclient.validateResponse(
          data.containerId,
          "oda",
          "StartOdaInstanceRequest",
          data.request,
          "StartOdaInstanceResponse",
          response
        );
        expect(message).to.equal("");
      } catch (err) {
        if (err instanceof common.OciError) {
          const message: string = await tsclient.validateError(
            data.containerId,
            "oda",
            "StartOdaInstanceRequest",
            data.request,
            err
          );
          expect(message).to.equal("");
        } else {
          console.debug(err);
          throw err;
        }
      }
    }
  });

  it("Test stopOdaInstance method", async function() {
    if (!(await tsclient.isApiEnabled("oda", "StopOdaInstance"))) {
      this.skip();
    }

    const config: any = await tsclient.getTestingConfig("oda", "Oda", "StopOdaInstance");

    const authenticationDetailProvider: common.AuthenticationDetailsProvider = new common.SimpleAuthenticationDetailsProvider(
      config.tenantId,
      config.userId,
      config.fingerprint,
      config.keyFileContent,
      config.passPhrase
    );

    const odaClient = new oda.OdaClient({
      authenticationDetailsProvider: authenticationDetailProvider
    });
    if (config.endpoint) {
      odaClient.endpoint = config.endpoint;
    } else {
      odaClient.regionId = config.region;
    }
    const requests: any[] = await tsclient.getRequests("oda", "StopOdaInstance");

    for (const data of requests) {
      try {
        console.debug("Request to OCI:", data.request);
        const response = await odaClient.stopOdaInstance(data.request);
        console.debug("Response from OCI:", response);

        const message: string = await tsclient.validateResponse(
          data.containerId,
          "oda",
          "StopOdaInstanceRequest",
          data.request,
          "StopOdaInstanceResponse",
          response
        );
        expect(message).to.equal("");
      } catch (err) {
        if (err instanceof common.OciError) {
          const message: string = await tsclient.validateError(
            data.containerId,
            "oda",
            "StopOdaInstanceRequest",
            data.request,
            err
          );
          expect(message).to.equal("");
        } else {
          console.debug(err);
          throw err;
        }
      }
    }
  });

  it("Test updateOdaInstance method", async function() {
    if (!(await tsclient.isApiEnabled("oda", "UpdateOdaInstance"))) {
      this.skip();
    }

    const config: any = await tsclient.getTestingConfig("oda", "Oda", "UpdateOdaInstance");

    const authenticationDetailProvider: common.AuthenticationDetailsProvider = new common.SimpleAuthenticationDetailsProvider(
      config.tenantId,
      config.userId,
      config.fingerprint,
      config.keyFileContent,
      config.passPhrase
    );

    const odaClient = new oda.OdaClient({
      authenticationDetailsProvider: authenticationDetailProvider
    });
    if (config.endpoint) {
      odaClient.endpoint = config.endpoint;
    } else {
      odaClient.regionId = config.region;
    }
    const requests: any[] = await tsclient.getRequests("oda", "UpdateOdaInstance");

    for (const data of requests) {
      try {
        console.debug("Request to OCI:", data.request);
        const response = await odaClient.updateOdaInstance(data.request);
        console.debug("Response from OCI:", response);

        const message: string = await tsclient.validateResponse(
          data.containerId,
          "oda",
          "UpdateOdaInstanceRequest",
          data.request,
          "UpdateOdaInstanceResponse",
          response
        );
        expect(message).to.equal("");
      } catch (err) {
        if (err instanceof common.OciError) {
          const message: string = await tsclient.validateError(
            data.containerId,
            "oda",
            "UpdateOdaInstanceRequest",
            data.request,
            err
          );
          expect(message).to.equal("");
        } else {
          console.debug(err);
          throw err;
        }
      }
    }
  });
});
